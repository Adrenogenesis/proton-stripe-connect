_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[6],{0:function(t,e,n){n("GcxT"),t.exports=n("nOHt")},"1TCz":function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return R}));var r=n("o0o1"),o=n.n(r),a=n("HaE+"),c=n("rePB"),i=n("1OyB"),u=n("vuIU"),s=n("Ji7U"),p=n("md7G"),f=n("foSv"),l=n("q1tI"),h=n.n(l),v=n("8Bbg"),d=n.n(v),y=n("jZJi"),k=n("iZ4v"),b=n.n(k),g=n("3Evf"),x=n.n(g),O=(n("CafY"),n("p46w")),P=n.n(O),w=(n("5Buo"),h.a.createElement);function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){Object(c.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var R=function(t){Object(s.a)(n,t);var e=_(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var t=this.props,e=t.Component,n=t.pageProps,r=t.token,o=t.isAuthenticated,a=t.userProfile;r&&y.a.setToken(r);var c=m(m({},n),{},{token:r,isAuthenticated:o,userProfile:a});return w(e,c)}}],[{key:"getAuthenticationState",value:function(t){var e="";return{token:e=t&&t.ctx?x()(t.ctx).token:P.a.get("token"),isAuthenticated:void 0!==e}}},{key:"getInitialProps",value:function(){var t=Object(a.a)(o.a.mark((function t(e){var n,r,a,c,i,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(b.a.log("*****************************"),b.a.log("GlobalMarketplaceApp.app.ready"),b.a.log("*****************************"),n=this.getAuthenticationState(e),r=n.token,a=n.isAuthenticated,y.a.setContext(e.ctx),y.a.setToken(r),!r){t.next=10;break}return t.next=9,y.a.makeRequest("get","/api/profile");case 9:c=t.sent;case 10:return e.router&&(b.a.log("*****************************"),b.a.log("REQ: ".concat(e.router.route)),b.a.log("*****************************")),t.next=13,d.a.getInitialProps(e);case 13:return i=t.sent,u=m(m({},i),{},{token:r,isAuthenticated:a,userProfile:c}),t.abrupt("return",u);case 16:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),n}(d.a)},"5Buo":function(t,e,n){},"8Bbg":function(t,e,n){t.exports=n("B5Ud")},B5Ud:function(t,e,n){"use strict";var r=n("vJKn"),o=n("/GRZ"),a=n("i2R6"),c=n("48fX"),i=n("tCBg"),u=n("T0f4"),s=n("qVT1");function p(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return i(this,n)}}var f=n("AroE");e.__esModule=!0,e.Container=function(t){0;return t.children},e.createUrl=k,e.default=void 0;var l=f(n("q1tI")),h=n("g/15");function v(t){return d.apply(this,arguments)}function d(){return(d=s(r.mark((function t(e){var n,o,a;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.Component,o=e.ctx,t.next=3,(0,h.loadGetInitialProps)(n,o);case 3:return a=t.sent,t.abrupt("return",{pageProps:a});case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e.AppInitialProps=h.AppInitialProps,e.NextWebVitalsMetric=h.NextWebVitalsMetric;var y=function(t){c(n,t);var e=p(n);function n(){return o(this,n),e.apply(this,arguments)}return a(n,[{key:"componentDidCatch",value:function(t,e){throw t}},{key:"render",value:function(){var t=this.props,e=t.router,n=t.Component,r=t.pageProps,o=t.__N_SSG,a=t.__N_SSP;return l.default.createElement(n,Object.assign({},r,o||a?{}:{url:k(e)}))}}]),n}(l.default.Component);function k(t){var e=t.pathname,n=t.asPath,r=t.query;return{get query(){return r},get pathname(){return e},get asPath(){return n},back:function(){t.back()},push:function(e,n){return t.push(e,n)},pushTo:function(e,n){var r=n?e:"",o=n||e;return t.push(r,o)},replace:function(e,n){return t.replace(e,n)},replaceTo:function(e,n){var r=n?e:"",o=n||e;return t.replace(r,o)}}}e.default=y,y.origGetInitialProps=v,y.getInitialProps=v},GcxT:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n("1TCz")}])},jZJi:function(t,e,n){"use strict";var r=n("o0o1"),o=n.n(r),a=n("HaE+"),c=n("1OyB"),i=n("vuIU"),u=n("vcXL"),s=n.n(u),p=n("iZ4v"),f=n.n(p),l=function(){function t(){Object(c.a)(this,t),this.token="",this.context=null,this.protocol="http:",this.port=null}return Object(i.a)(t,[{key:"setToken",value:function(t){f.a.log("APIclient.setToken",t),this.token=t}},{key:"setContext",value:function(t){f.a.log("APIclient.setContext"),this.context=t}},{key:"detectContext",value:function(){this.host=window.location.hostname,this.protocol=window.location.protocol,this.port=window.location.port}},{key:"makeRequest",value:function(){var t=Object(a.a)(o.a.mark((function t(e,n,r){var a,c,i,u,p;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.detectContext(),a=r||{},c=this.getBaseUrl(),i=c+n,f.a.log("APIclient.makeRequest.requestUrl",i,this.token),t.prev=5,t.next=8,s()(i,{credentials:"include",headers:{"content-type":"post"==e?"application/json":"",Authorization:this.token?"Bearer ".concat(this.token):""},method:e,body:"post"==e?JSON.stringify(a):null});case 8:if(!(u=t.sent).ok){t.next=15;break}return t.next=12,u.json();case 12:return t.abrupt("return",t.sent);case 15:return t.next=17,u.text();case 17:throw p=t.sent,f.a.log("APIclient.makeRequest.response.notOkay",u.statusText,p),new Error(u.statusText);case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(5),f.a.log("APIclient.makeRequest.error",t.t0);case 25:case"end":return t.stop()}}),t,this,[[5,22]])})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"getBaseUrl",value:function(){return"".concat(this.protocol,"//").concat(this.host).concat(this.port?":"+this.port:"")}}]),t}();e.a=new l},vcXL:function(t,e,n){"use strict";var r=self.fetch.bind(self);t.exports=r,t.exports.default=t.exports}},[[0,1,2,0,3,4]]]);