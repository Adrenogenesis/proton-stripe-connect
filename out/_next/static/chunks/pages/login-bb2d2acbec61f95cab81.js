_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[14],{O2ls:function(e,t,n){"use strict";n.r(t);var a=n("1OyB"),r=n("vuIU"),s=n("Ji7U"),o=n("md7G"),i=n("foSv"),c=n("MX0m"),l=n.n(c),u=n("q1tI"),p=n.n(u),h=n("CafY"),d=n("o0o1"),f=n.n(d),m=n("HaE+"),b=n("rePB"),g=n("JX7q"),x=n("SMlj"),j=n("iZ4v"),v=n.n(j),w=p.a.createElement;function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(i.a)(e);if(t){var r=Object(i.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(o.a)(this,n)}}var k=function(e){Object(s.a)(n,e);var t=y(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={email:"",password:"",error:""},r.handleChange=r.handleChange.bind(Object(g.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(g.a)(r)),r.loginAsRenter=r.loginAsRenter.bind(Object(g.a)(r)),r.loginAsSeller=r.loginAsSeller.bind(Object(g.a)(r)),r}return Object(r.a)(n,[{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState(Object(b.a)({},n,a))}},{key:"loginAsRenter",value:function(){this.setState({email:"renter@kavholm.com",password:"test"})}},{key:"loginAsSeller",value:function(){this.setState({email:"owner@kavholm.com",password:"test"})}},{key:"handleSubmit",value:function(){var e=Object(m.a)(f.a.mark((function e(t){var n,a,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),"/api/login/token",n=this.state,n.username,n.password,e.prev=3,e.next=6,fetch("/api/login/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.state)});case 6:if(!(a=e.sent).ok){e.next=15;break}return e.next=10,a.json();case 10:r=e.sent,s=r.token,Object(x.a)(s),e.next=17;break;case 15:v.a.log("Login failed."),this.setState({error:a.statusText});case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(3),console.error("You have an error in your code or there are Network issues.",e.t0),this.setState({error:response.statusText});case 23:case"end":return e.stop()}}),e,this,[[3,19]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return w(p.a.Fragment,null,w("div",{className:"jsx-3224940014 login"},w("p",{className:"jsx-3224940014 supporting-text"},"You can sign in with your own account, or use one of our demo accounts."),w("form",{onSubmit:this.handleSubmit,className:"jsx-3224940014"},w("button",{onClick:this.loginAsRenter,className:"jsx-3224940014 btn btn-secondary btn-half"},"Renter demo"),w("button",{onClick:this.loginAsSeller,className:"jsx-3224940014 btn btn-secondary btn-half right"},"Owner demo"),w("input",{type:"email",id:"email",name:"email",placeholder:"Email",value:this.state.email,onChange:this.handleChange,className:"jsx-3224940014 icon-input new-section email"}),w("input",{type:"password",id:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChange,className:"jsx-3224940014 icon-input password"}),w("button",{type:"submit",className:"jsx-3224940014 btn btn-primary btn-full"},"Sign in"),w("p",{className:"jsx-3224940014 "+"error ".concat(this.state.error&&"show")},this.state.error&&"Error: ".concat(this.state.error)))),w(l.a,{id:"3224940014"},[".new-section.jsx-3224940014{margin-top:16px;}",".email.jsx-3224940014{background:url(../static/email.svg) no-repeat scroll 7px 6px;background-size:20px 20px;background-position:16px 14px;}",".password.jsx-3224940014{background:url(../static/lock.svg) no-repeat scroll 7px 6px;background-size:20px 20px;background-position:16px 14px;}",".error.jsx-3224940014{margin:0.5rem 0 0;display:none;color:brown;}",".error.show.jsx-3224940014{display:block;}"]))}}]),n}(u.Component),O=p.a.createElement;function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(i.a)(e);if(t){var r=Object(i.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(o.a)(this,n)}}var N=function(e){Object(s.a)(n,e);var t=S(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return O(h.a,{isAuthenticated:this.props.isAuthenticated,userProfile:this.props.userProfile},O("div",{className:"jsx-1308476865 login-page"},O("div",{className:"jsx-1308476865 splash-image"},O("div",{className:"jsx-1308476865 container"},O("div",{className:"jsx-1308476865 box popover"},O("h1",{className:"jsx-1308476865"},"Sign in"),O(k,null))))),O(l.a,{id:"1308476865"},[".login-page.jsx-1308476865{width:100%;position:absolute;top:110px;left:0;right:0;bottom:0;}"]))}}]),n}(p.a.Component);t.default=N},u6Hu:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n("O2ls")}])}},[["u6Hu",1,2,0,3,4]]]);